<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Archivio D&D</title>
<style>
body {
    background-image: url('dragon_background_v2.jpg');
    background-size: cover;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    color: #333;
}
header {
    background-color: #2c3e50;
    color: white;
    padding: 1rem;
    text-align: center;
}
nav {
    background-color: #34495e;
    text-align: center;
    padding: 0.5rem;
}
nav a {
    color: #ecf0f1;
    text-decoration: none;
    margin: 0 1rem;
}
.container {
    padding: 2rem;
}
.post img {
    width: 36%;
    height: auto;
    display: block;
    float: left;
    margin: 1em 1em 1em 0;
    border: 1px solid #ccc;
}
.post {
    overflow: hidden;
    margin-bottom: 2rem;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 1rem;
    border-radius: 4px;
}
.comments-section {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(255,255,255,0.9);
    border-radius: 4px;
}
.comment {
    border-bottom: 1px solid #ddd;
    padding: 0.5rem 0;
}
.comment:last-child { border-bottom: none; }
.comment-author { font-weight: bold; }
.comment-date { font-size: 0.8rem; color: #777; }
.comment-form input, .comment-form textarea {
    width:100%; padding:0.5rem; margin:0.3rem 0;
}
.comment-form button {
    padding:0.5rem 1rem; background:#2c3e50; color:white; border:none;
}
.footer {
    background-color:#333; color:white; text-align:center; padding:1rem;
}
</style>
</head>
<body>

<header><h1>Archivio D&D</h1><p>Incantesimi, Talenti e Curiosità</p></header>
<nav><a>Talenti</a><a>Incantesimi</a><a>FAQ</a></nav>

<div class="container">

<!-- Example post with per-post comments (template replicated for each) -->
<div class="post" data-post-id="lanciare">
<h2>Talento: Lanciare Spontaneo</h2>
<img src="lanciare spontaneo.jpg">
<p>Il personaggio può scambiare...</p>

<h3>Discussione</h3>
<ul>
<li><strong>ArcanoRosso:</strong> Molto utile...</li>
<li><strong>LibroNero:</strong> Il costo...</li>
<li><strong>MysticFang:</strong> Ottimo...</li>
<li><strong>Heliar:</strong> Lo uso spesso...</li>
</ul>

<div class="comments-section">
<h3>Commenti su questo post</h3>
<form class="comment-form" data-form-id="lanciare">
<input type="text" placeholder="Nome">
<textarea rows="3" placeholder="Commento..."></textarea>
<button type="submit">Invia</button>
</form>
<div class="comments-container" data-container-id="lanciare"></div>
</div>
</div>

<!-- Other posts get identical blocks… -->

<div class="footer">“La conoscenza è potere.”</div>

<script>
(function(){
function loadComments(post){
 let data=localStorage.getItem("comments_"+post);
 if(!data) return [];
 try { return JSON.parse(data);} catch(e){ return [];}
}
function saveComments(post,arr){
 localStorage.setItem("comments_"+post,JSON.stringify(arr));
}
function addToDOM(container, c){
 let w=document.createElement('div'); w.className='comment';
 let a=document.createElement('div'); a.className='comment-author'; a.textContent=c.author;
 let d=document.createElement('div'); d.className='comment-date'; d.textContent=c.date;
 let t=document.createElement('div'); t.className='comment-text'; t.textContent=c.text;
 w.append(a,d,t); container.append(w);
}
document.querySelectorAll('.comment-form').forEach(form=>{
 let post=form.dataset.formId;
 let container=document.querySelector('[data-container-id="'+post+'"]');
 loadComments(post).forEach(c=>addToDOM(container,c));
 form.addEventListener('submit',e=>{
   e.preventDefault();
   let author=form.querySelector('input').value||"Anonimo";
   let text=form.querySelector('textarea').value.trim();
   if(!text) return;
   let c={author,text,date:new Date().toLocaleString('it-IT')};
   let arr=loadComments(post); arr.push(c); saveComments(post,arr);
   addToDOM(container,c);
   form.querySelector('input').value=''; form.querySelector('textarea').value='';
 });
});
})();
</script>

</body>
</html>
